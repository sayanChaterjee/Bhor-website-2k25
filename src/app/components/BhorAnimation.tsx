import { motion, useAnimation } from "framer-motion";
import { Dispatch, SetStateAction, useEffect } from "react";

interface BhorAnimationProps {
  setBhorEnded: Dispatch<SetStateAction<boolean>>;
}

const animationDuration = 5; // Change animation duration here
const transition = {
  duration: animationDuration,
  strokeOpacity: {
    delay: animationDuration,
  },
  fillOpacity: {
    delay: animationDuration,
  },
};

const variants = {
  initial: { pathLength: 0, strokeOpacity: 1, fillOpacity: 0 },
  animate: {
    pathLength: 1,
    strokeOpacity: 0,
    fillOpacity: 1,
  },
};

const BhorAnimation = ({ setBhorEnded }: BhorAnimationProps) => {
  const controls = useAnimation();
  const startDelaySeconds = 4; // Delay before starting the animation

  useEffect(() => {
    const t = setTimeout(() => {
      controls.start("animate");
    }, startDelaySeconds * 1000);
    return () => clearTimeout(t);
  }, [controls]);

  return (
    <div className="z-40 w-fit flex felx-col justify-center h-fit items-center">
      <motion.div
        transition={{ delay: 2 }}
        className="w-fit flex flex-col justify-center items-center"
        style={{ zIndex: 50 }}
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          className="fill-white shadow1 stroke-2 w-[200px] md:w-80 stroke-white"
          viewBox="0 0 252.15 160.49"
          id="vorImg"
        >
          <defs>
            <defs>
              <filter id="f2" x="0" y="0" width="200%" height="200%">
                <feOffset result="offOut" in="SourceGraphic" dx="20" dy="20" />
                <feGaussianBlur
                  result="blurOut"
                  in="offOut"
                  stdDeviation="10"
                />
                <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />
              </filter>
            </defs>
          </defs>
          <g id="Layer_1" data-name="Layer 1">
            <g id="vorlogo">
              <motion.path
                fill="#fff"
                stroke="#fff"
                strokeWidth="0.5"
                variants={variants}
                initial="initial"
                animate={controls}
                transition={transition}
                className="cls-1"
                d="m238.61,20.72c1.36,7.9,2.28,15.84,2.05,23.88-1.79,15.86-1.65,31.74-.53,47.63.24,3.46.49,6.94.44,10.41-.03,2.24-1.12,3.44-3.49,1.89-3.45-2.26-6.57-4.69-8.4-8.66-3.88-8.43-11.55-10.71-19.93-11.57-.71.03-1.41.05-2.12.08-2.18-1.21-4.54-.6-6.82-.67-7.11-.23-14.25.5-21.3-1.15-11.46-2.68-15.88-10.56-11.39-20.52.95-2.1,1.96-4.18,2.94-6.27,0,0-.05.04-.05.04,1.12-.77,1.58-1.93,1.87-3.18,4.51-5.52,9.2-10.89,13.88-16.26,7.33-8.4,15-16.14,25.15-21.06,2.37-.73,4.74-1.47,7.11-2.2-.1-.41-.21-.81-.31-1.22-2.59.17-5.18.33-7.77.5-2.2-.54-4.4-.43-6.59.01-12.73-.52-25.46-.65-38.18.08l-2.94.28c-1.49-.05-2.97-.16-4.46-.15-10.54.1-13.48,4.66-9.37,14.49,1.76,9.43,1.41,18.96,1.28,28.48-.15.64-.29,1.27-.44,1.91-.12.67-.24,1.35-.36,2.02-2.65,11.66-4.88,23.36-4.98,35.39-.02,2.23,1.91,6.39-2.22,6.31-3.44-.07-7.67-1.13-8.68-5.91-1.36-6.45-.37-12.86.17-19.28,1.31-15.44,6.31-30.59,3.57-46.34-.16-1.11-.32-2.23-.48-3.34.01-1.99-.29-3.91-1.25-5.69-.14-4.22-2.48-7.15-6.39-7.68-9.72-1.33-19.54-1.54-29.29-.14-3.18.46-5.08,2.33-3.89,5.99.88,2.72-.6,5.21-.94,7.81-2.07,2.6-3.87,5.44-6.65,7.41-1.2-1.56-.98-3.46-1.14-5.23-.38-4.27-.52-8.57-2.37-12.56-.28-2.46-.29-5.38-3.78-2.12-9.64,7.06-14.05,17.3-17.19,28.31-.89.78-1.03,1.83-1.02,2.92-.21.75-.41,1.51-.62,2.26-1.25,3.56-2.84,7.05-3.64,10.72-.53,2.44-1.13,5.52,1.37,7.42,2.11,1.6,4.61,1.66,6.93.05.46-.08.92-.16,1.37-.24,2.13-.04,4.01-.65,5.36-2.43.55-.54,1.1-1.08,1.64-1.61,2.2-.47,3.03-2.42,4.19-3.97,3.49-4.68,5.9-9.97,8.22-15.29,1.52-3.49,3.65-6.28,7.44-7.45.75.03,1.5.06,2.25.09,2.94,1.47,5.89,2.93,8.83,4.4.48.41.97.81,1.45,1.22.55,2.65,3.02,3.83,4.46,5.81,9.28,12.83,9.86,26.69,5.12,41.24-.64.96-1.24,1.95-1.93,2.87-9.56,12.81-21.74,19.57-38.27,17.37-6.68-.89-11.83-4.86-17.76-7.22,0,0-.12-.11-.12-.11-1.16-2.34-3.76-2.84-5.57-4.36,0,0,.05.04.05.04-1.47-2.58-3.65-4.41-6.15-5.91l.04.04c-2.04-3.06-4.05-6.14-7.22-8.2-1.95-5.33-5.65-9.94-6.45-15.75-.17-1.26-1.01-2.67,1.09-3.1.21,1.72,1.99,2.14,2.79,3.38,5.47,9.9,11.3,19.52,20.38,26.66,6.38,5.02,13.33,6.85,21.56,5.35,19.96-3.64,34.03-22.61,26.94-46.36-.68-2.28-.8-5.94-3.41-6.04-3.1-.12-4.35,3.51-5.99,5.91-.26.39-.19.99-.41,1.43-2.43,4.91-4.68,9.91-8.29,14.14-5.71,6.68-12.52,10.56-21.49,8.06-9.25-2.58-15.75-8.12-18.2-17.89-1.75-6.97.75-13.47,1.52-20.17,2.37-6.2,4.36-12.54,7.28-18.53,1.02-2.09,4.03-4.48,2.13-6.46-1.67-1.74-5.02-.46-7.65.09-1.7.36-3.02,1.17-4.32,2.23-7.93,6.45-12.86,15.29-18.73,23.38-13.69,20.32-18.22,42.87-16.13,66.97.36,4.21.65,8.4,2.47,12.48,2.95,6.61,6.75,11.78,14.52,12.64.29.06.58.12.88.18,1.6.55,3.21,1.09,4.82,1.64,0,0-.09,0-.09,0,2.88.62,5.77,1.24,8.65,1.86,5.24.34,10.39,1.47,15.71,1.4,14.07-.17,28.15.04,42.22-.01,3.79-.01,7.57,1.17,11.35.06.47.03.94.05,1.41.08,3.31,1.45,6.9.75,10.34,1.28,11.07,1.69,21.1,5.65,29.96,12.53,0,0-.09.05-.09.05,1.67,3.56,5.47,6.07,5.12,10.94-5.59-8.02-13.4-11.84-22.72-12.91-6.69-3.24-13.67-1.55-20.57-1.27-1.65-1.39-3.67-1.35-5.65-1.38-14.92-.21-29.84-.48-44.76-.57-3.44-.02-6.93-.9-10.35.24-.57-.01-1.14-.02-1.71-.04-15.68-2.93-30.73-7.23-42.12-19.46C-1.87,106.61-1.34,85.76,1.96,64.56c2.24-14.38,7.53-27.67,15.68-39.78,1.73-2.57,3.43-5.14,5.15-7.71,2.79-2.81,5.51-5.68,8.37-8.41C37.59,2.52,51.99-.35,59.67,4c4.58,2.6,7.07,1.38,9.85-1.87,1.46-.71,2.93-1.42,4.39-2.13,2.66.07,5.5.03,7.65,1.65,3.38,2.56,6.68,3.06,10.51,1.22.98-.47,2.27-.37,3.42-.37,9.27-.02,18.54.01,27.8.01,3.54,0,7.23.58,9.78,2.78,3.94,3.39,6.29,1.76,8.75-1.44.69-.18,1.38-.35,2.07-.53,1.54-.36,3.08-.73,4.63-1.09,19.12.31,38.25.54,57.36-.02.85.02,1.7.03,2.55.05,1.48.17,2.95.33,4.42.5,1.07.91,2.32.69,3.55.57.78.21,1.56.42,2.34.64,4.29,2.14,7.84,2.99,13.03.31,4.58-2.37,11.33-2.68,16.24,1.88,1.6,1.48,4.93,2.41,3.94,5.01-.8,2.11-3.89.73-5.93,1.12-1.46.28-3.16.09-4.36.79-2.03,1.18-5.38,1.72-4.05,5.49.33.72.65,1.44.98,2.15Zm-48.03,34.72c-1.3.56-2.03,1.52-2.07,2.96-4.22,3.46-6.93,7.93-8.77,13,.49,2.18,2.23,2,3.86,2.05,6.7.19,13.4.39,20.09.59,6.95,2.52,14.2,4.36,20.41,8.64.71,1.26,1.62,2.61,3.15,2.24.84-.21.59-1.61.3-2.53-.41-15.65.1-31.26,1.68-46.85.63-6.21.7-12.47-1.39-19.32-4.7,8.69-11.3,14.76-18.62,20.25-3.27,2.46-5.87,5.82-8.77,8.78-2.52,1.82-4.76,3.9-6.3,6.64l-.12.1c-1.49.79-2.8,1.76-3.42,3.42l-.03.04Z"
              />
              <motion.path
                fill="#fff"
                stroke="#fff"
                strokeWidth="0.5"
                variants={variants}
                initial="initial"
                animate={controls}
                transition={transition}
                className="cls-1"
                d="m216.53,93.64c3.21,4.63,1.66,8.25-3.76,8.96-2.93.39-5.65-.59-8.2-1.6-2.02-.8-3.43-3.2-2.54-5.29,1.27-2.98,3.03-5.93,7.04-6.18,1.62-.1,2.72,1.05,4.18,1.2,1.09.97,2.19,1.94,3.28,2.91Z"
              />
            </g>
          </g>
          <g id="Layer_2" data-name="Layer 2">
            <g>
              <motion.path
                fill="#fff"
                stroke="#fff"
                strokeWidth="0.5"
                variants={variants}
                initial="initial"
                animate={controls}
                className="cls-1"
                transition={transition}
                d="m183.82,143.46c0,.78-.18,1.47-.54,2.06s-.83,1.11-1.39,1.56c-.56.45-1.19.82-1.87,1.12-.68.3-1.35.55-2,.75v.08c.83.31,1.65.67,2.48,1.09.82.42,1.61.89,2.36,1.4.75.52,1.44,1.08,2.07,1.69.64.61,1.18,1.24,1.63,1.91l-1.47,1.48c-.3-.44-.72-.92-1.27-1.44s-1.18-1.04-1.92-1.57c-.73-.53-1.55-1.04-2.45-1.54s-1.85-.96-2.86-1.38c-1.01-.41-2.07-.77-3.17-1.06-1.1-.29-2.22-.49-3.36-.59l.23-2.33c.17,0,.36.03.57.06.21.03.43.06.66.09.23.03.46.07.69.12.23.05.44.09.64.13.19.02.44.04.75.06.31.02.6.03.86.03.44,0,.92-.03,1.43-.09.51-.06,1.03-.16,1.54-.29.52-.13,1.02-.3,1.5-.49.48-.2.91-.43,1.28-.71.37-.28.67-.59.89-.95.22-.35.33-.75.33-1.19,0-.5-.14-.91-.42-1.24-.28-.32-.66-.59-1.12-.8s-1-.39-1.59-.53-1.2-.28-1.82-.41c-.62-.13-1.23-.28-1.82-.44-.59-.16-1.12-.37-1.59-.62s-.84-.57-1.12-.95-.42-.86-.42-1.43c0-.31.05-.6.16-.88.1-.27.25-.51.44-.71.19-.2.41-.36.68-.48.26-.12.56-.18.88-.18.27,0,.52.04.73.13.22.09.4.21.55.36s.27.32.35.51c.08.19.12.39.12.59,0,.27-.08.54-.24.8-.16.26-.4.48-.73.65v.08c.47.07,1.04.15,1.69.24.65.09,1.32.23,2.02.4.7.17,1.38.38,2.05.64.67.26,1.27.58,1.81.97.53.39.96.85,1.29,1.38.33.54.49,1.17.49,1.91Z"
              />
              <motion.path
                fill="#fff"
                stroke="#fff"
                strokeWidth="0.5"
                variants={variants}
                initial="initial"
                animate={controls}
                className="cls-1"
                transition={transition}
                d="m196.61,153.28c-1.08,0-2.04-.21-2.89-.61s-1.55-.95-2.13-1.64c-.58-.68-1.02-1.47-1.33-2.36s-.46-1.82-.46-2.78c0-1.11.2-2.14.59-3.1.39-.95.93-1.78,1.61-2.48s1.49-1.24,2.41-1.64c.93-.4,1.93-.6,3.01-.6s2.05.2,2.91.59c.86.4,1.59.93,2.19,1.59.6.67,1.06,1.44,1.38,2.32.31.88.47,1.8.47,2.77,0,1.12-.21,2.16-.61,3.13-.41.97-.96,1.81-1.67,2.52-.7.71-1.52,1.27-2.47,1.67s-1.95.61-3.03.61Zm5.52-7.86c0-.65-.1-1.28-.31-1.88s-.51-1.14-.92-1.61-.92-.84-1.52-1.12c-.6-.28-1.3-.42-2.1-.42-.85,0-1.6.16-2.25.47-.65.32-1.2.73-1.64,1.25-.44.52-.77,1.11-1,1.77-.23.66-.34,1.35-.34,2.05s.11,1.36.33,1.98.54,1.15.95,1.6.91.82,1.5,1.08c.59.26,1.24.4,1.97.4.77,0,1.48-.15,2.14-.44.65-.3,1.22-.7,1.69-1.2.47-.5.84-1.09,1.11-1.76.27-.67.4-1.39.4-2.15Z"
              />
              <motion.path
                fill="#fff"
                stroke="#fff"
                strokeWidth="0.5"
                variants={variants}
                initial="initial"
                animate={controls}
                transition={transition}
                className="cls-1"
                d="m221.95,143.46c0,.78-.18,1.47-.54,2.06s-.83,1.11-1.39,1.56c-.56.45-1.19.82-1.87,1.12-.68.3-1.35.55-2,.75v.08c.83.31,1.65.67,2.48,1.09.82.42,1.61.89,2.36,1.4.75.52,1.44,1.08,2.07,1.69.64.61,1.18,1.24,1.63,1.91l-1.47,1.48c-.3-.44-.72-.92-1.27-1.44s-1.18-1.04-1.92-1.57c-.73-.53-1.55-1.04-2.45-1.54s-1.85-.96-2.86-1.38c-1.01-.41-2.07-.77-3.17-1.06-1.1-.29-2.22-.49-3.36-.59l.23-2.33c.17,0,.36.03.57.06.21.03.43.06.66.09.23.03.46.07.69.12.23.05.44.09.64.13.19.02.44.04.75.06.31.02.6.03.86.03.44,0,.92-.03,1.43-.09.51-.06,1.03-.16,1.54-.29.52-.13,1.02-.3,1.5-.49.48-.2.91-.43,1.28-.71.37-.28.67-.59.89-.95.22-.35.33-.75.33-1.19,0-.5-.14-.91-.42-1.24-.28-.32-.66-.59-1.12-.8s-1-.39-1.59-.53-1.2-.28-1.82-.41c-.62-.13-1.23-.28-1.82-.44-.59-.16-1.12-.37-1.59-.62s-.84-.57-1.12-.95-.42-.86-.42-1.43c0-.31.05-.6.16-.88.1-.27.25-.51.44-.71.19-.2.41-.36.68-.48.26-.12.56-.18.88-.18.27,0,.52.04.73.13.22.09.4.21.55.36s.27.32.35.51c.08.19.12.39.12.59,0,.27-.08.54-.24.8-.16.26-.4.48-.73.65v.08c.47.07,1.04.15,1.69.24.65.09,1.32.23,2.02.4.7.17,1.38.38,2.05.64.67.26,1.27.58,1.81.97.53.39.96.85,1.29,1.38.33.54.49,1.17.49,1.91Z"
              />
              <motion.path
                onAnimationComplete={() => setBhorEnded(true)}
                fill="#fff"
                stroke="#fff"
                strokeWidth="0.5"
                variants={variants}
                initial="initial"
                animate={controls}
                transition={transition}
                className="cls-1"
                d="m229.36,136.53c.34,1.26.7,2.5,1.08,3.71.38,1.21.79,2.36,1.22,3.44s.9,2.07,1.4,2.98c.5.91,1.05,1.69,1.64,2.36.59.66,1.24,1.18,1.93,1.54.7.37,1.45.55,2.26.55s1.48-.17,2.07-.5c.59-.33,1.08-.77,1.47-1.32s.68-1.17.88-1.86c.2-.7.3-1.41.3-2.13,0-.66-.08-1.31-.25-1.95-.17-.64-.41-1.22-.74-1.75-.33-.53-.74-.97-1.24-1.34-.5-.37-1.09-.61-1.76-.73l-.13.2c.19.24.35.52.48.85s.2.68.2,1.04c0,.42-.09.83-.27,1.21s-.42.71-.72,1c-.3.28-.65.51-1.04.68-.4.17-.81.25-1.24.25s-.84-.09-1.23-.26c-.39-.17-.73-.42-1.02-.73-.29-.32-.52-.69-.7-1.13s-.26-.92-.26-1.45c0-.68.14-1.27.43-1.77.29-.5.67-.92,1.14-1.26.47-.33,1.03-.58,1.65-.74.63-.16,1.28-.24,1.95-.24,1.19,0,2.22.23,3.09.68s1.6,1.05,2.18,1.79,1.01,1.59,1.29,2.54.42,1.92.42,2.92-.15,2.03-.44,3c-.29.98-.73,1.85-1.31,2.62-.58.77-1.3,1.39-2.15,1.86-.86.47-1.85.71-2.98.71-.92,0-1.78-.16-2.56-.48-.79-.32-1.51-.75-2.18-1.3-.67-.54-1.27-1.18-1.82-1.91-.54-.73-1.04-1.5-1.49-2.33-.45-.82-.84-1.67-1.19-2.55-.35-.88-.66-1.73-.92-2.57-.27-.84-.5-1.63-.68-2.38-.19-.75-.34-1.41-.47-1.98l1.62-1.26h.08Z"
              />
            </g>
          </g>
        </svg>
      </motion.div>
    </div>
  );
};

export default BhorAnimation;
